# 罗小黑战记图片爬虫使用说明

## 功能介绍
这个Python爬虫程序专门用于爬取罗小黑战记相关的图片素材，适合用于书籍创作。程序会自动将图片按类别分类保存到不同的文件夹中。

## 安装依赖

在运行程序之前，请先安装所需的Python包：

```bash
pip install -r requirements.txt
```

或者单独安装：

```bash
pip install requests beautifulsoup4 lxml Pillow pathlib
```

## 使用方法

### 基本使用
直接运行主程序：

```bash
python luoxiaohei_image_crawler.py
```

### 程序特点

1. **自动分类**: 程序会根据图片标题和关键词自动将图片分类到不同文件夹：
   - `角色/` - 罗小黑、小白等角色图片
   - `场景/` - 背景和场景图片
   - `剧照/` - 动画截图和剧照
   - `壁纸/` - 高质量壁纸图片
   - `其他/` - 其他相关图片

2. **智能去重**: 自动检查文件是否已存在，避免重复下载

3. **随机延迟**: 在请求之间添加随机延迟，避免被网站封禁

4. **详细日志**: 记录下载过程和错误信息到 `crawler.log` 文件

5. **下载报告**: 完成后生成 `下载报告.json` 文件，包含统计信息

## 目录结构

运行后会创建以下目录结构：

```
images/
└── 罗小黑战记/
    ├── 角色/
    ├── 场景/
    ├── 剧照/
    ├── 壁纸/
    ├── 其他/
    └── 下载报告.json
```

## 注意事项

1. **网络连接**: 确保网络连接稳定
2. **使用限制**: 程序设置了最大下载100张图片的限制，可根据需要修改
3. **版权问题**: 请注意图片的版权问题，仅用于学习和个人创作
4. **运行时间**: 由于有延迟机制，完整运行可能需要10-20分钟

## 自定义配置

如果需要修改搜索关键词或下载数量限制，可以编辑 `luoxiaohei_image_crawler.py` 文件中的相关参数：

- `keywords` 列表：修改搜索关键词
- `max_pages` 参数：修改每个关键词搜索的页数
- 下载数量限制：修改 `if total_downloaded >= 100:` 这一行的数字

## 故障排除

1. **网络错误**: 检查网络连接，可能需要重新运行程序
2. **权限错误**: 确保有文件写入权限
3. **依赖问题**: 确保所有依赖包都已正确安装

## 文件说明

- `luoxiaohei_image_crawler.py` - 主程序文件
- `requirements.txt` - 依赖包列表
- `crawler.log` - 运行日志文件
- `使用说明.md` - 本说明文件