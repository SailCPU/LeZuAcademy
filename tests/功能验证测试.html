<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å•è¯å‘éŸ³åŠŸèƒ½æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            color: #333;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .word-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            user-select: none;
            margin: 10px;
            display: inline-block;
            min-width: 200px;
        }
        .word-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            border-color: #007bff;
        }
        .word-card .english {
            font-size: 1.2em;
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 5px;
        }
        .word-card .chinese {
            color: #27ae60;
            font-weight: bold;
        }
        .word-card .example {
            font-style: italic;
            color: #666;
            margin-top: 8px;
            font-size: 0.9em;
        }
        .status {
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
            font-weight: bold;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ”Š å•è¯å‘éŸ³åŠŸèƒ½æµ‹è¯•</h1>
        <p>è¿™ä¸ªé¡µé¢ç”¨äºæµ‹è¯•å•è¯å¡çš„å‘éŸ³åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p>
        
        <div id="support-status" class="status info">
            <strong>ğŸ” æ£€æŸ¥æµè§ˆå™¨æ”¯æŒæƒ…å†µ...</strong>
        </div>
        
        <h2>ğŸ“ æµ‹è¯•å•è¯å¡</h2>
        <p>ç‚¹å‡»ä¸‹é¢çš„å•è¯å¡æµ‹è¯•å‘éŸ³åŠŸèƒ½ï¼š</p>
        
        <div class="word-card" data-word="hello">
            <div class="english">hello</div>
            <div class="chinese">ä½ å¥½</div>
            <div class="example">Hello, how are you? ä½ å¥½ï¼Œä½ å¥½å—ï¼Ÿ</div>
        </div>
        
        <div class="word-card" data-word="magic">
            <div class="english">magic</div>
            <div class="chinese">é­”æ³•</div>
            <div class="example">This is magic! è¿™æ˜¯é­”æ³•ï¼</div>
        </div>
        
        <div class="word-card" data-word="beautiful">
            <div class="english">beautiful</div>
            <div class="chinese">ç¾ä¸½çš„</div>
            <div class="example">The flower is beautiful. èŠ±æœµå¾ˆç¾ä¸½ã€‚</div>
        </div>
        
        <div class="word-card" data-word="adventure">
            <div class="english">adventure</div>
            <div class="chinese">å†’é™©</div>
            <div class="example">Let's go on an adventure! è®©æˆ‘ä»¬å»å†’é™©å§ï¼</div>
        </div>
        
        <div class="word-card" data-word="pronunciation">
            <div class="english">pronunciation</div>
            <div class="chinese">å‘éŸ³</div>
            <div class="example">Good pronunciation is important. å¥½çš„å‘éŸ³å¾ˆé‡è¦ã€‚</div>
        </div>
        
        <h2>ğŸ® åŠŸèƒ½æµ‹è¯•</h2>
        <button onclick="testManualSpeech()" style="padding: 10px 20px; margin: 5px; border: none; background: #007bff; color: white; border-radius: 5px; cursor: pointer;">æ‰‹åŠ¨æµ‹è¯•å‘éŸ³</button>
        <button onclick="testStopSpeech()" style="padding: 10px 20px; margin: 5px; border: none; background: #dc3545; color: white; border-radius: 5px; cursor: pointer;">åœæ­¢å‘éŸ³</button>
        <button onclick="checkStatus()" style="padding: 10px 20px; margin: 5px; border: none; background: #28a745; color: white; border-radius: 5px; cursor: pointer;">æ£€æŸ¥çŠ¶æ€</button>
        
        <div id="test-results" class="status info" style="margin-top: 20px;">
            <strong>æµ‹è¯•ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</strong>
        </div>
    </div>
    
    <script>
        // æ£€æŸ¥æµè§ˆå™¨æ”¯æŒ
        function checkBrowserSupport() {
            const statusDiv = document.getElementById('support-status');
            
            if ('speechSynthesis' in window) {
                statusDiv.className = 'status success';
                statusDiv.innerHTML = '<strong>âœ… æµè§ˆå™¨æ”¯æŒè¯­éŸ³åˆæˆåŠŸèƒ½ï¼</strong><br>æ‚¨å¯ä»¥æ­£å¸¸ä½¿ç”¨å•è¯å‘éŸ³åŠŸèƒ½ã€‚';
                
                // ç­‰å¾…è¯­éŸ³åŠ è½½
                setTimeout(() => {
                    const voices = speechSynthesis.getVoices();
                    const englishVoices = voices.filter(v => v.lang.startsWith('en'));
                    statusDiv.innerHTML += `<br>ğŸ“¢ å¯ç”¨è¯­éŸ³æ•°é‡: ${voices.length}, è‹±è¯­è¯­éŸ³: ${englishVoices.length}`;
                }, 1000);
            } else {
                statusDiv.className = 'status error';
                statusDiv.innerHTML = '<strong>âŒ æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³åˆæˆåŠŸèƒ½</strong><br>è¯·ä½¿ç”¨Chromeã€Edgeã€Safariæˆ–Firefoxçš„æœ€æ–°ç‰ˆæœ¬ã€‚';
            }
        }
        
        // æ‰‹åŠ¨æµ‹è¯•å‘éŸ³
        function testManualSpeech() {
            if (window.wordPronunciation) {
                window.wordPronunciation.speakText("This is a pronunciation test");
                updateTestResults("âœ… æ‰‹åŠ¨å‘éŸ³æµ‹è¯•æ‰§è¡ŒæˆåŠŸ");
            } else {
                updateTestResults("âŒ å‘éŸ³åŠŸèƒ½æœªåŠ è½½");
            }
        }
        
        // åœæ­¢å‘éŸ³
        function testStopSpeech() {
            if (window.wordPronunciation) {
                window.wordPronunciation.stopSpeaking();
                updateTestResults("ğŸ›‘ å‘éŸ³å·²åœæ­¢");
            } else {
                updateTestResults("âŒ å‘éŸ³åŠŸèƒ½æœªåŠ è½½");
            }
        }
        
        // æ£€æŸ¥çŠ¶æ€
        function checkStatus() {
            if (window.wordPronunciation) {
                const status = window.wordPronunciation.checkSupport();
                updateTestResults(`ğŸ“Š åŠŸèƒ½çŠ¶æ€ï¼š<br>
                    - æ”¯æŒæƒ…å†µ: ${status.isSupported ? 'âœ… æ”¯æŒ' : 'âŒ ä¸æ”¯æŒ'}<br>
                    - è¯­éŸ³æ•°é‡: ${status.voicesCount}<br>
                    - é¦–é€‰è¯­éŸ³: ${status.preferredVoice || 'æ— '}`);
            } else {
                updateTestResults("âŒ å‘éŸ³åŠŸèƒ½æœªåŠ è½½ï¼Œè¯·æ£€æŸ¥JavaScriptæ–‡ä»¶");
            }
        }
        
        // æ›´æ–°æµ‹è¯•ç»“æœ
        function updateTestResults(message) {
            const resultsDiv = document.getElementById('test-results');
            resultsDiv.innerHTML = message;
        }
        
        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥æ”¯æŒ
        checkBrowserSupport();
        
        // æ£€æŸ¥å‘éŸ³åŠŸèƒ½æ˜¯å¦åŠ è½½
        setTimeout(() => {
            if (window.wordPronunciation) {
                updateTestResults("âœ… å•è¯å‘éŸ³åŠŸèƒ½å·²æˆåŠŸåŠ è½½ï¼ç‚¹å‡»ä¸Šé¢çš„å•è¯å¡æµ‹è¯•å‘éŸ³ã€‚");
            } else {
                updateTestResults("âš ï¸ å•è¯å‘éŸ³åŠŸèƒ½æœªåŠ è½½ï¼Œå¯èƒ½æ˜¯JavaScriptæ–‡ä»¶è·¯å¾„é”™è¯¯ã€‚");
            }
        }, 2000);
    </script>
    
    <!-- åŠ è½½å‘éŸ³åŠŸèƒ½ -->
    <script src="æŸ¯å—ä¾¦æ¢è‹±è¯­å†’é™©-æ¨ä¹åŒ—çš„å•è¯æ¢æ¡ˆè®°/js/word-pronunciation.js"></script>
</body>
</html>